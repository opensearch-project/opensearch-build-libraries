   BuildRc.run()
      BuildRc.pipeline(groovy.lang.Closure)
         BuildRc.echo(Executing on agent [label:none])
         BuildRc.stage(buildBothRC, groovy.lang.Closure)
            BuildRc.script(groovy.lang.Closure)
               BuildRc.buildRC({version=2.19.0, product=both})
                  buildRC.withSecrets({secrets=[{envVar=METRICS_HOST_ACCOUNT, secretRef=op://opensearch-infra-secrets/aws-accounts/jenkins-health-metrics-account-number}, {envVar=METRICS_HOST_URL, secretRef=op://opensearch-infra-secrets/metrics-cluster/jenkins-health-metrics-cluster-endpoint}]}, groovy.lang.Closure)
                     buildRC.withAWS({role=OpenSearchJenkinsAccessRole, roleAccount=METRICS_HOST_ACCOUNT, duration=900, roleSessionName=jenkins-session}, groovy.lang.Closure)
                        ReleaseCandidateStatus.getLatestRcNumber(OpenSearch)
                           OpenSearchMetricsQuery.fetchMetrics({\"_source\":\"rc_number\",\"sort\":[{\"distribution_build_number\":{\"order\":\"desc\"},\"rc_number\":{\"order\":\"desc\"}}],\"size\":1,\"query\":{\"bool\":{\"filter\":[{\"match_phrase\":{\"component\":\"OpenSearch\"}},{\"match_phrase\":{\"rc\":\"true\"}},{\"match_phrase\":{\"version\":\"2.19.0\"}},{\"match_phrase\":{\"overall_build_result\":\"SUCCESS\"}}]}}})
                              buildRC.println(Running query: {\"_source\":\"rc_number\",\"sort\":[{\"distribution_build_number\":{\"order\":\"desc\"},\"rc_number\":{\"order\":\"desc\"}}],\"size\":1,\"query\":{\"bool\":{\"filter\":[{\"match_phrase\":{\"component\":\"OpenSearch\"}},{\"match_phrase\":{\"rc\":\"true\"}},{\"match_phrase\":{\"version\":\"2.19.0\"}},{\"match_phrase\":{\"overall_build_result\":\"SUCCESS\"}}]}}})
                              buildRC.sh({script=
            set -e
            set +x
            curl -s -XGET "sample.url/opensearch-distribution-build-results/_search" --aws-sigv4 "aws:amz:us-east-1:es" --user "abc:xyz" -H "x-amz-security-token:sampleToken" -H 'Content-Type: application/json' -d "{\"_source\":\"rc_number\",\"sort\":[{\"distribution_build_number\":{\"order\":\"desc\"},\"rc_number\":{\"order\":\"desc\"}}],\"size\":1,\"query\":{\"bool\":{\"filter\":[{\"match_phrase\":{\"component\":\"OpenSearch\"}},{\"match_phrase\":{\"rc\":\"true\"}},{\"match_phrase\":{\"version\":\"2.19.0\"}},{\"match_phrase\":{\"overall_build_result\":\"SUCCESS\"}}]}}}" | jq '.'
        , returnStdout=true})
                        ReleaseCandidateStatus.getLatestRcNumber(OpenSearch-Dashboards)
                           OpenSearchMetricsQuery.fetchMetrics({\"_source\":\"rc_number\",\"sort\":[{\"distribution_build_number\":{\"order\":\"desc\"},\"rc_number\":{\"order\":\"desc\"}}],\"size\":1,\"query\":{\"bool\":{\"filter\":[{\"match_phrase\":{\"component\":\"OpenSearch-Dashboards\"}},{\"match_phrase\":{\"rc\":\"true\"}},{\"match_phrase\":{\"version\":\"2.19.0\"}},{\"match_phrase\":{\"overall_build_result\":\"SUCCESS\"}}]}}})
                              buildRC.println(Running query: {\"_source\":\"rc_number\",\"sort\":[{\"distribution_build_number\":{\"order\":\"desc\"},\"rc_number\":{\"order\":\"desc\"}}],\"size\":1,\"query\":{\"bool\":{\"filter\":[{\"match_phrase\":{\"component\":\"OpenSearch-Dashboards\"}},{\"match_phrase\":{\"rc\":\"true\"}},{\"match_phrase\":{\"version\":\"2.19.0\"}},{\"match_phrase\":{\"overall_build_result\":\"SUCCESS\"}}]}}})
                              buildRC.sh({script=
            set -e
            set +x
            curl -s -XGET "sample.url/opensearch-distribution-build-results/_search" --aws-sigv4 "aws:amz:us-east-1:es" --user "abc:xyz" -H "x-amz-security-token:sampleToken" -H 'Content-Type: application/json' -d "{\"_source\":\"rc_number\",\"sort\":[{\"distribution_build_number\":{\"order\":\"desc\"},\"rc_number\":{\"order\":\"desc\"}}],\"size\":1,\"query\":{\"bool\":{\"filter\":[{\"match_phrase\":{\"component\":\"OpenSearch-Dashboards\"}},{\"match_phrase\":{\"rc\":\"true\"}},{\"match_phrase\":{\"version\":\"2.19.0\"}},{\"match_phrase\":{\"overall_build_result\":\"SUCCESS\"}}]}}}" | jq '.'
        , returnStdout=true})
                  buildRC.echo(Current RC numbers: OpenSearch - 5, OpenSearch-Dashboards - 5)
                  buildRC.echo(Triggering both OpenSearch and OpenSearch-Dashboards builds with RC numbers: 6, 6 respectively)
                  buildRC.parallel({opensearch=groovy.lang.Closure, opensearchDashboards=groovy.lang.Closure})
                     buildRC.string({name=INPUT_MANIFEST, value=2.19.0/opensearch-2.19.0.yml})
                     buildRC.string({name=TEST_MANIFEST, value=2.19.0/opensearch-2.19.0-test.yml})
                     buildRC.string({name=BUILD_PLATFORM, value=linux windows})
                     buildRC.string({name=BUILD_DISTRIBUTION, value=tar rpm deb zip})
                     buildRC.string({name=TEST_PLATFORM, value=linux windows})
                     buildRC.string({name=TEST_DISTRIBUTION, value=tar rpm deb zip})
                     buildRC.string({name=RC_NUMBER, value=6})
                     buildRC.string({name=BUILD_DOCKER, value=build_docker_with_build_number_tag})
                     buildRC.booleanParam({name=CONTINUE_ON_ERROR, value=false})
                     buildRC.booleanParam({name=UPDATE_GITHUB_ISSUE, value=true})
                     buildRC.build({job=distribution-build-opensearch, parameters=[null, null, null, null, null, null, null, null, null, null], wait=false, propagate=false})
                     buildRC.string({name=INPUT_MANIFEST, value=2.19.0/opensearch-dashboards-2.19.0.yml})
                     buildRC.string({name=TEST_MANIFEST, value=2.19.0/opensearch-dashboards-2.19.0-test.yml})
                     buildRC.string({name=BUILD_PLATFORM, value=linux windows})
                     buildRC.string({name=BUILD_DISTRIBUTION, value=tar rpm deb zip})
                     buildRC.string({name=TEST_PLATFORM, value=linux windows})
                     buildRC.string({name=TEST_DISTRIBUTION, value=tar rpm deb zip})
                     buildRC.string({name=RC_NUMBER, value=6})
                     buildRC.string({name=BUILD_DOCKER, value=build_docker_with_build_number_tag})
                     buildRC.booleanParam({name=CONTINUE_ON_ERROR, value=false})
                     buildRC.booleanParam({name=UPDATE_GITHUB_ISSUE, value=true})
                     buildRC.build({job=distribution-build-opensearch-dashboards, parameters=[null, null, null, null, null, null, null, null, null, null], wait=false, propagate=false})
